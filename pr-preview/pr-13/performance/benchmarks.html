<!DOCTYPE HTML>
<html lang="en" class="rust sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Benchmark Results - x.uma</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Cross-Platform Unified Matcher API">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon-de23e50b.svg">
        <link rel="shortcut icon" href="../favicon-8114d1fc.png">
        <link rel="stylesheet" href="../css/variables-8adf115d.css">
        <link rel="stylesheet" href="../css/general-2459343d.css">
        <link rel="stylesheet" href="../css/chrome-ae938929.css">
        <link rel="stylesheet" href="../css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="../highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="../tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="../ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "rust";
            const default_dark_theme = "coal";
            window.path_to_searchindex_js = "../searchindex-8e763299.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc-eb7188b1.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">x.uma</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/mox-labs/x.uma" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>
                        <a href="https://github.com/mox-labs/x.uma/edit/main/docs/src/performance/benchmarks.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <span class=fa-svg id="git-edit-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="benchmark-results"><a class="header" href="#benchmark-results">Benchmark Results</a></h1>
<p>Performance analysis of x.uma matcher engine implementations.</p>
<p>This page presents the full benchmark data collected across all five x.uma variants. The story unfolds progressively: simple operations show unexpected results, complex workloads reveal architectural trade-offs, and adversarial input exposes catastrophic failure modes.</p>
<p>All variants passed the same 194-test conformance suite before benchmarking. These aren’t apples-to-oranges comparisons — they’re different implementations of identical behavior.</p>
<h2 id="hardware--methodology"><a class="header" href="#hardware--methodology">Hardware &amp; Methodology</a></h2>
<p><strong>Hardware</strong>: Apple M1 Max (10-core CPU, 64GB RAM)
<strong>Date</strong>: 2026-02-10
<strong>Operating System</strong>: macOS 14.4</p>
<p><strong>Benchmarking Tools</strong>:</p>
<ul>
<li>Rust (rumi): divan 0.1.14</li>
<li>Python (puma): pytest-benchmark 4.0.0</li>
<li>TypeScript (bumi): mitata 1.0.10</li>
</ul>
<p><strong>Execution</strong>:</p>
<pre><code class="language-bash">just bench-all  # runs all benchmarks
</code></pre>
<p>Each benchmark runs for at least 100 iterations to ensure statistical significance. Results show median latency unless otherwise noted.</p>
<h2 id="the-variants"><a class="header" href="#the-variants">The Variants</a></h2>
<p>x.uma implements the xDS Unified Matcher API in five distinct ways:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Variant</th><th>Language</th><th>Engine</th><th>Regex Implementation</th></tr>
</thead>
<tbody>
<tr><td><strong>rumi</strong></td><td>Rust</td><td>Native</td><td><code>regex</code> crate (linear time, RE2 semantics)</td></tr>
<tr><td><strong>puma</strong></td><td>Python</td><td>Pure Python</td><td><code>re</code> module (backtracking)</td></tr>
<tr><td><strong>bumi</strong></td><td>TypeScript</td><td>Pure TypeScript (Bun)</td><td><code>RegExp</code> (backtracking)</td></tr>
<tr><td><strong>puma-crusty</strong></td><td>Python + Rust</td><td>PyO3 FFI to rumi</td><td><code>regex</code> crate via FFI</td></tr>
<tr><td><strong>bumi-crusty</strong></td><td>TypeScript + Rust</td><td>WASM FFI to rumi</td><td><code>regex</code> crate via WASM</td></tr>
</tbody>
</table>
</div>
<p>The first three (rumi, puma, bumi) are pure implementations in their native languages. The crusty variants wrap the Rust engine with language bindings.</p>
<h2 id="the-simplest-case-exact-string-match"><a class="header" href="#the-simplest-case-exact-string-match">The Simplest Case: Exact String Match</a></h2>
<p>Let’s start with the most basic operation: matching a single exact string.</p>
<p><strong>Scenario</strong>: One rule checks if a path equals <code>/api/users</code>. We test both hit (matches) and miss (doesn’t match) paths.</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Variant</th><th>Exact Match Hit</th><th>Exact Match Miss</th></tr>
</thead>
<tbody>
<tr><td>rumi</td><td>33 ns</td><td>25 ns</td></tr>
<tr><td>bumi</td><td>9.3 ns</td><td>10.4 ns</td></tr>
<tr><td>puma</td><td>325 ns</td><td>275 ns</td></tr>
</tbody>
</table>
</div>
<p><strong>The surprise</strong>: TypeScript (bumi) is 3.5x faster than Rust (rumi).</p>
<h3 id="why-typescript-beats-rust-here"><a class="header" href="#why-typescript-beats-rust-here">Why TypeScript Beats Rust Here</a></h3>
<p>This isn’t a language speed contest — it’s an architectural one.</p>
<p>The rumi matcher uses <code>Box&lt;dyn InputMatcher&gt;</code> for extensibility. Every match call goes through a vtable dispatch. The TypeScript JIT (JavaScriptCore in Bun) sees the monomorphic call site and inlines the comparison directly.</p>
<p>This is expected and fixable. Rust’s trait dispatch trades single-operation speed for compositional flexibility. Future Rust versions with improved monomorphization may close this gap. For now, it’s the cost of dynamic dispatch.</p>
<p><strong>Python</strong> is 10-30x slower than both — no surprise there. Python’s interpreter overhead dominates at this scale. But 325ns is still 3 million operations per second on a single core.</p>
<h2 id="adding-complexity-regex-matching"><a class="header" href="#adding-complexity-regex-matching">Adding Complexity: Regex Matching</a></h2>
<p>Now we test pattern matching with <code>^/api/v\d+/users$</code>.</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Variant</th><th>Regex Hit</th><th>Regex Miss</th></tr>
</thead>
<tbody>
<tr><td>rumi</td><td>52 ns</td><td>30 ns</td></tr>
<tr><td>bumi</td><td>24.8 ns</td><td>20.7 ns</td></tr>
<tr><td>puma</td><td>452 ns</td><td>311 ns</td></tr>
</tbody>
</table>
</div>
<p>Same pattern: bumi’s JIT-optimized RegExp beats rumi’s vtable dispatch. The hit path is roughly 2x slower than the miss path across all variants (the regex engine does more work on a match).</p>
<p>Python adds interpreter overhead but stays within the same order of magnitude. Still fast enough for most web workloads.</p>
<p>Nothing alarming yet. Let’s make things interesting.</p>
<h2 id="boolean-logic-andor-predicates"><a class="header" href="#boolean-logic-andor-predicates">Boolean Logic: AND/OR Predicates</a></h2>
<p>Real matchers combine conditions. Here we test two predicates composed with AND and OR:</p>
<ul>
<li><strong>AND</strong>: both predicates must match (worst case: evaluates both)</li>
<li><strong>OR</strong>: first match wins (best case: short-circuits on first predicate)</li>
</ul>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Variant</th><th>AND (both match)</th><th>OR (first matches)</th></tr>
</thead>
<tbody>
<tr><td>rumi</td><td>96 ns</td><td>56 ns</td></tr>
<tr><td>bumi</td><td>61.7 ns</td><td>25.4 ns</td></tr>
<tr><td>puma</td><td>637 ns</td><td>454 ns</td></tr>
</tbody>
</table>
</div>
<p>The gap widens. bumi’s short-circuit optimization on OR is particularly efficient (25ns). Rust’s trait dispatch adds overhead for each predicate evaluation.</p>
<p>Python remains 10x slower but scales proportionally. The interpreter tax is constant across operations.</p>
<h2 id="scaling-many-rules"><a class="header" href="#scaling-many-rules">Scaling: Many Rules</a></h2>
<p>Production matchers have dozens or hundreds of rules. We test first-match-wins evaluation where the <strong>last rule matches</strong> (worst case: linear scan through all rules).</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Rules</th><th>rumi</th><th>bumi</th><th>puma</th></tr>
</thead>
<tbody>
<tr><td>10</td><td>245 ns</td><td>118 ns</td><td>1.2 µs</td></tr>
<tr><td>50</td><td>1.07 µs</td><td>542 ns</td><td>5.3 µs</td></tr>
<tr><td>100</td><td>1.80 µs</td><td>1.07 µs</td><td>10.1 µs</td></tr>
<tr><td>200</td><td>3.49 µs</td><td>2.10 µs</td><td>20.0 µs</td></tr>
</tbody>
</table>
</div>
<p>All three scale linearly (as expected — first-match-wins is O(n) in the worst case). No cache thrashing, no algorithmic surprises. The JIT advantage persists: bumi is roughly 2x faster than rumi, which is roughly 5x faster than puma.</p>
<h3 id="throughput-at-200-rules"><a class="header" href="#throughput-at-200-rules">Throughput at 200 Rules</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Variant</th><th>Latency</th><th>Requests/sec</th></tr>
</thead>
<tbody>
<tr><td>bumi</td><td>2.1 µs</td><td>476,000</td></tr>
<tr><td>rumi</td><td>3.5 µs</td><td>286,000</td></tr>
<tr><td>puma</td><td>20 µs</td><td>50,000</td></tr>
</tbody>
</table>
</div>
<p>For context, even the “slow” Python variant evaluates <strong>50,000 requests per second on a single core</strong>. In a typical web framework with network I/O, database queries, and business logic, the matcher is not a bottleneck.</p>
<p>But there’s a scenario where these differences become life-or-death.</p>
<h2 id="the-catastrophe-redos"><a class="header" href="#the-catastrophe-redos">The Catastrophe: ReDoS</a></h2>
<p>Regular Expression Denial of Service (ReDoS) exploits backtracking regex engines with adversarial input.</p>
<p><strong>Attack pattern</strong>: <code>(a+)+$</code>
<strong>Adversarial input</strong>: <code>"a" * N + "X"</code></p>
<p>The regex engine tries exponentially many backtracking paths before failing. At N=20, there are over <strong>1 million backtracking attempts</strong>.</p>
<p>Here’s what happens:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>N</th><th>rumi (linear)</th><th>puma (backtracking)</th><th>bumi (backtracking)</th></tr>
</thead>
<tbody>
<tr><td>5</td><td>10 ns</td><td>2.5 µs</td><td>335 ns</td></tr>
<tr><td>10</td><td>10 ns</td><td>71 µs</td><td>10.7 µs</td></tr>
<tr><td>15</td><td>11 ns</td><td>2.27 ms</td><td>370 µs</td></tr>
<tr><td>20</td><td>11 ns</td><td><strong>72.4 ms</strong></td><td><strong>11.1 ms</strong></td></tr>
<tr><td>25</td><td>11 ns</td><td>HANGS</td><td>HANGS</td></tr>
<tr><td>50</td><td>11 ns</td><td>HANGS</td><td>HANGS</td></tr>
<tr><td>100</td><td>11 ns</td><td>HANGS</td><td>HANGS</td></tr>
</tbody>
</table>
</div>
<h3 id="the-numbers-at-n20"><a class="header" href="#the-numbers-at-n20">The Numbers at N=20</a></h3>
<ul>
<li><strong>rumi</strong>: 11 nanoseconds</li>
<li><strong>puma</strong>: 72 milliseconds (6.5 million times slower)</li>
<li><strong>bumi</strong>: 11 milliseconds (1 million times slower)</li>
</ul>
<p>At N=25 and beyond, both puma and bumi <strong>hang indefinitely</strong>. The matcher becomes a denial-of-service vulnerability. An attacker sends a single malicious request and ties up a worker thread forever.</p>
<h3 id="why-rust-survives"><a class="header" href="#why-rust-survives">Why Rust Survives</a></h3>
<p>Rust’s <code>regex</code> crate uses a Thompson NFA implementation (like Google’s RE2) with guaranteed linear time complexity. No backtracking, no exponential blowup, no vulnerability.</p>
<p>The time complexity is O(n) where n is the input length. Whether you match 5 characters or 100 characters, the cost scales linearly.</p>
<p>This is why the arch-guild review mandated: <strong>Use Rust <code>regex</code> crate only. No <code>fancy-regex</code>. ReDoS protection is non-negotiable.</strong></p>
<p>But what if you need Python or TypeScript? That’s where the crusty variants come in.</p>
<h2 id="ffi-head-to-head-puma-vs-puma-crusty"><a class="header" href="#ffi-head-to-head-puma-vs-puma-crusty">FFI Head-to-Head: puma vs puma-crusty</a></h2>
<p>puma-crusty is a Python package that wraps the rumi engine via PyO3. Every matcher call crosses the Python-Rust FFI boundary.</p>
<p>Let’s see what that boundary costs:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Scenario</th><th>puma (pure Python)</th><th>puma-crusty (PyO3)</th><th>Ratio</th></tr>
</thead>
<tbody>
<tr><td>compile_simple</td><td>1.83 µs</td><td>625 ns</td><td>crusty 2.9x faster</td></tr>
<tr><td>compile_complex</td><td>4.62 µs</td><td>14.0 µs</td><td>puma 3x faster</td></tr>
<tr><td>exact_hit</td><td>282 ns</td><td>188 ns</td><td>crusty 1.5x faster</td></tr>
<tr><td>exact_miss</td><td>178 ns</td><td>141 ns</td><td>crusty 1.3x faster</td></tr>
<tr><td>regex_hit</td><td>482 ns</td><td>299 ns</td><td>crusty 1.6x faster</td></tr>
<tr><td>regex_miss</td><td>203 ns</td><td>201 ns</td><td>same</td></tr>
<tr><td>complex_hit</td><td>814 ns</td><td>570 ns</td><td>crusty 1.4x faster</td></tr>
<tr><td>complex_miss</td><td>461 ns</td><td>490 ns</td><td>same</td></tr>
</tbody>
</table>
</div>
<h3 id="the-ffi-overhead"><a class="header" href="#the-ffi-overhead">The FFI Overhead</a></h3>
<p><strong>For evaluation</strong>: crusty is 1.3-1.6x faster on simple operations, breaks even on misses.</p>
<p><strong>For compilation</strong>: crusty wins on simple configs (Rust struct construction beats Python dataclass construction), but loses on complex configs where Python’s dynamic typing makes nested object graphs cheaper to construct.</p>
<p>The FFI overhead is minimal because PyO3 has been heavily optimized for this workload. The crossover happens around 1-2 arguments per call.</p>
<h3 id="the-strategic-value"><a class="header" href="#the-strategic-value">The Strategic Value</a></h3>
<p>crusty gives you the ReDoS protection of Rust’s regex engine without rewriting your Python code. For regex-heavy workloads, it’s a 1.5x speedup. For adversarial regex input, it’s the difference between 11ns and hanging forever.</p>
<p>If you’re building a Python service that accepts regex patterns from untrusted sources, puma-crusty is your safety net.</p>
<h2 id="ffi-head-to-head-bumi-vs-bumi-crusty"><a class="header" href="#ffi-head-to-head-bumi-vs-bumi-crusty">FFI Head-to-Head: bumi vs bumi-crusty</a></h2>
<p>bumi-crusty wraps the rumi engine compiled to WebAssembly via wasm-bindgen. Every call crosses the JavaScript-WASM boundary with object serialization via <code>js_sys::Reflect</code>.</p>
<p>Here’s the brutal truth:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Scenario</th><th>bumi (pure TS)</th><th>bumi-crusty (WASM)</th><th>Ratio</th></tr>
</thead>
<tbody>
<tr><td>compile_simple</td><td>19 ns</td><td>2.17 µs</td><td><strong>bumi 113x faster</strong></td></tr>
<tr><td>compile_complex</td><td>107 ns</td><td>47.4 µs</td><td><strong>bumi 444x faster</strong></td></tr>
<tr><td>exact_hit</td><td>9.9 ns</td><td>1.63 µs</td><td><strong>bumi 164x faster</strong></td></tr>
<tr><td>exact_miss</td><td>10.7 ns</td><td>1.52 µs</td><td><strong>bumi 142x faster</strong></td></tr>
<tr><td>regex_hit</td><td>25.9 ns</td><td>2.13 µs</td><td><strong>bumi 82x faster</strong></td></tr>
<tr><td>regex_miss</td><td>18.1 ns</td><td>1.66 µs</td><td><strong>bumi 92x faster</strong></td></tr>
<tr><td>complex_hit</td><td>82.7 ns</td><td>2.45 µs</td><td><strong>bumi 30x faster</strong></td></tr>
<tr><td>complex_miss</td><td>25.7 ns</td><td>2.42 µs</td><td><strong>bumi 94x faster</strong></td></tr>
</tbody>
</table>
</div>
<p>Pure TypeScript is faster in <strong>every single scenario</strong>. Not by a little — by 30-450x.</p>
<h3 id="the-wasm-boundary-tax"><a class="header" href="#the-wasm-boundary-tax">The WASM Boundary Tax</a></h3>
<p>The WASM boundary serialization overhead dominates. At 2-3 microseconds per call, the FFI cost exceeds the work being done by multiple orders of magnitude.</p>
<p>Unlike PyO3 (which passes raw pointers), wasm-bindgen serializes objects via <code>js_sys::Reflect</code>, which means:</p>
<ol>
<li>Walk the JavaScript object graph</li>
<li>Convert to Rust types</li>
<li>Call the Rust function</li>
<li>Convert result back to JavaScript</li>
<li>Reconstruct JavaScript objects</li>
</ol>
<p>For a 10ns operation, a 2µs boundary cost is 200x overhead.</p>
<h3 id="why-bumi-crusty-exists"><a class="header" href="#why-bumi-crusty-exists">Why bumi-crusty Exists</a></h3>
<p>Not for speed. For <strong>ReDoS protection</strong>.</p>
<p>If your matcher uses regex heavily and accepts untrusted input, the pure TypeScript RegExp engine is a vulnerability. bumi-crusty gives you the linear-time guarantees of Rust’s <code>regex</code> crate at the cost of 100x slower baseline performance.</p>
<p>For most workloads, this is a bad trade. But if an attacker can hang your service with a single malicious regex match, 2µs is cheaper than 72ms (or infinite time).</p>
<h3 id="when-to-use-bumi-crusty"><a class="header" href="#when-to-use-bumi-crusty">When to Use bumi-crusty</a></h3>
<ul>
<li>Cloudflare Workers or Deno Deploy where regex comes from user config</li>
<li>Low request rate where 2µs per match is acceptable</li>
<li>Security-critical edge cases where ReDoS is a real threat</li>
</ul>
<p>For general use, stick with pure bumi and <strong>audit regex patterns at ingress</strong>.</p>
<h2 id="the-strategic-picture"><a class="header" href="#the-strategic-picture">The Strategic Picture</a></h2>
<h3 id="use-rumi-rust-when"><a class="header" href="#use-rumi-rust-when">Use <strong>rumi</strong> (Rust) when</a></h3>
<ul>
<li>Building a proxy, load balancer, or high-throughput router</li>
<li>You need maximum throughput per core</li>
<li>Regex matching untrusted input (ReDoS protection mandatory)</li>
<li>You’re already in Rust-land</li>
</ul>
<p><strong>Speed</strong>: Best for complex pipelines. Linear-time regex with zero ReDoS risk.</p>
<h3 id="use-puma-python-when"><a class="header" href="#use-puma-python-when">Use <strong>puma</strong> (Python) when</a></h3>
<ul>
<li>Integrating with Python web frameworks (FastAPI, Flask, Django)</li>
<li>Developer ergonomics matter more than raw speed</li>
<li>You control the regex patterns (no untrusted input)</li>
<li>50k req/sec per core is fast enough</li>
</ul>
<p><strong>Speed</strong>: 10-30x slower than Rust, but rarely the bottleneck. Backtracking regex vulnerable to ReDoS.</p>
<h3 id="use-bumi-typescript-when"><a class="header" href="#use-bumi-typescript-when">Use <strong>bumi</strong> (TypeScript) when</a></h3>
<ul>
<li>Building frontend routing or edge workers (Cloudflare, Deno Deploy)</li>
<li>You need sub-microsecond latency for simple matches</li>
<li>You control the regex patterns (no untrusted input)</li>
<li>TypeScript ecosystem integration is valuable</li>
</ul>
<p><strong>Speed</strong>: Fastest for simple operations (JIT beats Rust dispatch). Backtracking regex vulnerable to ReDoS.</p>
<h3 id="use-puma-crusty-python--rust-ffi-when"><a class="header" href="#use-puma-crusty-python--rust-ffi-when">Use <strong>puma-crusty</strong> (Python + Rust FFI) when</a></h3>
<ul>
<li>You need ReDoS protection in a Python codebase</li>
<li>Regex-heavy workloads where 1.5x speedup matters</li>
<li>Willing to add a native extension dependency</li>
</ul>
<p><strong>Speed</strong>: 1.5x faster than puma for evaluation, 3x slower for complex compilation. Linear-time regex.</p>
<h3 id="avoid-bumi-crusty-typescript--wasm-ffi-unless"><a class="header" href="#avoid-bumi-crusty-typescript--wasm-ffi-unless">Avoid <strong>bumi-crusty</strong> (TypeScript + WASM FFI) unless</a></h3>
<ul>
<li>You MUST have linear-time regex in TypeScript</li>
<li>You’re matching untrusted regex input at the edge</li>
<li>The 100x slowdown is acceptable (e.g., low request rate)</li>
</ul>
<p><strong>Speed</strong>: 30-450x slower than pure TypeScript. Only use for ReDoS protection when no other option exists.</p>
<h2 id="phase-11-the-re2-alternative"><a class="header" href="#phase-11-the-re2-alternative">Phase 11: The RE2 Alternative</a></h2>
<p>The roadmap includes Phase 11: migrate puma to <code>google-re2</code> (Python bindings to C++ RE2) and bumi to <code>re2js</code> (pure JS port of RE2).</p>
<p>This would give linear-time regex guarantees without FFI overhead:</p>
<ul>
<li><strong>puma</strong> gets ReDoS protection via a mature C extension (comparable to PyO3 overhead)</li>
<li><strong>bumi</strong> gets ReDoS protection in pure TypeScript (no WASM boundary)</li>
</ul>
<p>At that point, the crusty variants shift from “safety layer” to “full compiled pipeline in Rust” for complex configs where the rumi compiler’s optimizations justify the FFI cost.</p>
<p>But that’s future work. For now, the pure implementations are fastest, and the crusty variants are the ReDoS safety net.</p>
<h2 id="the-bottom-line"><a class="header" href="#the-bottom-line">The Bottom Line</a></h2>
<p>TypeScript JIT beats Rust dynamic dispatch on simple operations. This is expected and not a language-level win — it’s the natural outcome of monomorphic inline caching vs vtable indirection.</p>
<p>Python is 10-30x slower than both, which is the expected interpreter tax. Still fast enough for most web workloads.</p>
<p>The real story is <strong>ReDoS</strong>. At N=20, Rust’s linear-time regex is 6.5 million times faster than Python’s backtracking engine. At N=25, Python hangs forever. This isn’t a performance optimization — it’s a <strong>security boundary</strong>.</p>
<p>The crusty variants let you pay the FFI tax to get Rust’s safety guarantees. For Python, the tax is small (1.5x slower than pure Python). For TypeScript, the tax is huge (100x slower than pure TypeScript). Choose accordingly.</p>
<p>In production:</p>
<ul>
<li>Use <strong>rumi</strong> if you can</li>
<li>Use <strong>puma/bumi</strong> if ergonomics matter more than raw speed</li>
<li>Add <strong>crusty</strong> if untrusted regex input is a threat model</li>
</ul>
<p>And never, ever, let user-supplied regex patterns hit a backtracking engine without sanitization.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../performance/guide.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="../performance/security.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../performance/guide.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="../performance/security.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>

        <script src="../ace-2a3cd908.js"></script>
        <script src="../mode-rust-2c9d5c9a.js"></script>
        <script src="../editor-16ca416c.js"></script>
        <script src="../theme-dawn-4493f9c8.js"></script>
        <script src="../theme-tomorrow_night-9dbe62a9.js"></script>

        <script src="../elasticlunr-ef4e11c1.min.js"></script>
        <script src="../mark-09e88c2c.min.js"></script>
        <script src="../searcher-c2a407aa.js"></script>

        <script src="../clipboard-1626706a.min.js"></script>
        <script src="../highlight-abc7f01d.js"></script>
        <script src="../book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
